---
title: "Análisis exploratorio de la encuesta inicial"
author:
  - Simón Cuartas Rendón
  - Danilo Isaac García Castaño
  - David Mateo García Vallejo
  - Luis Miguel Martínez Escobar
  - Sebastián Yepes Sánchez
date: "Miércoles, 14 de abril de 2021"
output: 
  html_document: 
    toc: yes
    toc_depth: 3
    toc_float: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
```

```{r}
encuesta <- read.csv("encuesta1.csv")
```

```{r}
glimpse(encuesta)
```

```{r}
encuesta <- encuesta %>% 
  mutate_if(is.character, as.factor)
```

```{r}
glimpse(encuesta)
```

```{r}
encuesta <- encuesta %>% 
  mutate(Q02_FechaNac = as.Date(as.character(Q02_FechaNac), "%Y-%m-%d"))
```

```{r}
summary(encuesta$Q02_FechaNac)
```

```{r}
# Cálculo de la edad
encuesta <- encuesta %>% 
  mutate(Edad = as.numeric(as.Date("2021-06-30") - Q02_FechaNac)/365.25)
```

```{r}
# Conversión a fecha-hora
encuesta <- encuesta %>% 
  mutate(fecha_entrega = 
           as.POSIXct(strptime(Enviado.el., format = "%d/%m/%Y %H:%M:%S")),
         tiempo_usado = as.integer(format(fecha_entrega, "%M")) +
                        as.integer(format(fecha_entrega, "%S")) / 60  - 30)
```

```{r}
#Correccion de nombres de pregrados
encuesta %>% 
  mutate(Q03_Carrera = as.character(Q03_Carrera),
        Q03_Carrera = if_else(Q03_Carrera == " MatemÃ¡ticas ", "Matemáticas", Q03_Carrera),
         Q03_Carrera = as.factor(Q03_Carrera))

```


